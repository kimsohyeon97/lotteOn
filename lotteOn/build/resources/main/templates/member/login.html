<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë¡¯ë°On ë¡œê·¸ì¸ : ë¡¯ë°On</title>
  <link rel="stylesheet" th:href="@{/css/layout/layout.css}" />
  <link rel="stylesheet" th:href="@{/css/member/login.css}" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>
<body>

<div id="toast-container"></div>

<div id="wrapper">
  <!-- í—¤ë” ì‹œì‘ -->
  <header>
    <div class="header_main">
      <div class="user_menu">
        <div>
          <a th:href="@{/}">HOME |</a>
          <a th:href="@{/user/member/login}">ë¡œê·¸ì¸ |</a>
          <a th:href="@{/user/member/join}">íšŒì›ê°€ì… </a>

        </div>
      </div>

      <div class="logo">
        <a href="/">
        <img th:src="@{/images/logo.png}" alt="lotteOn" />
        </a>
      </div>
    </div>
  </header>
  <!-- í—¤ë” ë -->

  <!-- ë©”ì¸ ì‹œì‘ -->
  <main>
    <section class="content">
      <article class="main_content">
        <p class="title">ë¡œê·¸ì¸</p>

        <div class="login">
          <!-- ì™¼ìª½ ë¡œê·¸ì¸ ì˜ì—­ -->
          <div class="login-left">

            <!-- ì—ëŸ¬ ë©”ì‹œì§€ ì˜ì—­ ì¶”ê°€ -->
            <div class="login-error" th:if="${param.code != null}">
              <span th:if="${param.code == '100'}" class="error-text">ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
              <span th:if="${param.code == '101'}" class="notice-text">ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.</span>
              <span th:if="${param.code == '102'}" class="error-text">íƒˆí‡´í•œ íšŒì›ì…ë‹ˆë‹¤. ë‹¤ì‹œ ê°€ì…í•´ì£¼ì„¸ìš”.</span>
            </div>

            <form method="post" th:action="@{/user/member/login}">
              <div class="login-main-row">
                <!-- ì…ë ¥ í•„ë“œ -->
                <div class="login-rows">
                  <div class="login-row">

                    <input type="text" name="uid" id="userName" placeholder="ì•„ì´ë””" />
                  </div>

                  <div class="login-row">

                    <input type="password" name="pass" id="userPassword" placeholder="ë¹„ë°€ë²ˆí˜¸" />
                  </div>
                </div>

                <!-- ë¡œê·¸ì¸ ë²„íŠ¼ -->
                <div class="login-btn-area">
                  <input type="submit" value="ë¡œê·¸ì¸" class="login-button" />
                </div>
              </div>

              <!-- ì˜µì…˜ ì¤„ -->
              <div class="login-options">
                <label> <input type="checkbox" name="autoLogin" value="true" /> ìë™ ë¡œê·¸ì¸</label>
                <span>
                    | <a th:href="@{/user/member/findAccount}">ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
                    | <a th:href="@{/user/member/join}">íšŒì›ê°€ì…</a>
                </span>
              </div>

              <!-- SNS ë¡œê·¸ì¸ ì•„ì´ì½˜ -->
              <div class="login-social">
                <a th:href="@{/oauth2/authorization/kakao}">
                  <img th:src="@{/images/member/kakao.png}" alt="ì¹´ì¹´ì˜¤" />
                </a>
                <a th:href="@{/oauth2/authorization/naver}">
                  <img th:src="@{/images/member/naver.png}" alt="ë„¤ì´ë²„" />
                </a>
                <a th:href="@{/oauth2/authorization/google}">
                  <img th:src="@{/images/member/google.png}" alt="êµ¬ê¸€" />
                </a>
              </div>
            </form>
          </div>

          <!-- ì˜¤ë¥¸ìª½ ë°°ë„ˆ -->
          <div class="login-banner">
            <div class="banner" th:if="${banner != null}">
              <img th:src="@{/upload/{image}(image=${banner.sName})}"
                   th:style="'width:' + ${banner.width} + 'px;'
               +'height:' + ${banner.height} + 'px;'"
                   onerror="this.src='/images/member/banner.png';"
                   th:attr="onclick=|location.href='${banner.link}'|"
                   alt="lotteOn">
            </div>
          </div>
        </div>

        <!-- ì¸ì¦ ë§ˆí¬ -->
        <div class="award-logo">
          <img th:src="@{/images/member/Auth-icon-1.png}" alt="ê¸°ê´€ì¸ì¦" />
          <img th:src="@{/images/member/Auth-icon-2.png}" alt="ê¸°ê´€ì¸ì¦" />
          <img th:src="@{/images/member/Auth-icon-3.png}" alt="ê¸°ê´€ì¸ì¦" />
          <img th:src="@{/images/member/Auth-icon-4.png}" alt="ê¸°ê´€ì¸ì¦" />


        </div>
      </article>
    </section>
  </main>
  <!-- ë©”ì¸ ë -->

  <!-- í‘¸í„° ì‹œì‘ -->
  <footer>
    <div class="footer_info">
      <div>
        <a href="#">íšŒì‚¬ì†Œê°œ</a>
        <a href="#">ì„œë¹„ìŠ¤ì´ìš©ì•½ê´€</a>
        <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
        <a href="#">ì „ìê¸ˆìœµê±°ë˜ì•½ê´€</a>
      </div>
    </div>
    <div class="footer_content">
      <div class="footer_content_detail">
        <img th:src="@{/images/footer_logo.png}" alt="footer_logo" />
        <div>
          <p class="footer_title">LotteOn Project</p>
          <p>
            ê°œë°œì : ìš°ìƒí˜¸, ìµœëª…ê¸°, ê¹€ì†Œí˜„, ì˜¤ì¬ì˜, í™ì¤€í˜ <br />
            ì£¼ì†Œ : ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ë¶€ì „ë™ 266-2 ê·¸ë¦°ì»´í“¨í„°ì•„ì¹´ë°ë¯¸
            <br /><br />
            ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ : 529-85-00774(ë¡¯ë°ì‡¼í•‘(ì£¼) eì»¤ë¨¸ìŠ¤ì‚¬ì—…ë¶€) <br />
            í†µì‹ íŒë§¤ì—… ì‹ ê³  : 2024-ì„œìš¸ê°•ë‚¨-04439 ì‚¬ì—…ì ì •ë³´ í™•ì¸ <br />
            í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ì‚¬ì—…ì : ë¡¯ë°ì‡¼í•‘(ì£¼) eì»¤ë¨¸ìŠ¤ì‚¬ì—…ë¶€ <br />
          </p>

          <p class="footer_sub_title" style="margin-top: 10px">
            ë¡¯ë°ì‡¼í•‘ eì»¤ë¨¸ìŠ¤ ì‚¬ì—…ë¶€ ì—ìŠ¤í¬ë¡œ
          </p>
          <p>
            ê³ ê°ë‹˜ì˜ ì•ˆì „ê±°ë˜ë¥¼ ìœ„í•´ í˜„ê¸ˆ ë“±ìœ¼ë¡œ ê²°ì œ ì‹œ ê²°ì œê¸ˆì•¡ ì „ì•¡ì— ëŒ€í•´ <br />
            ì†Œë¹„ì í”¼í•´ ë°©ì§€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.
          </p>
        </div>
        <div>
          <p class="footer_sub_title">ê³ ê°ì„¼í„°</p>
          <p>
            ì „í™”ë²ˆí˜¸ : 1899-7000(ìœ ë£Œ) <br />
            E-mail : lotteon@lotte.net <br />
            <a href="#" class="a_deco">ë¶„ìŸí•´ê²°ê¸°ì¤€</a><br />
            <a href="#" class="footer_btn"> FAQ ë³´ê¸° </a>
            <a href="#" class="footer_btn"> 1ëŒ€1 ë¬¸ì˜í•˜ê¸° </a>
            <a href="#" class="footer_btn"> ê³ ê°ì„¼í„° </a>
            <a href="#" class="footer_btn"> ê³µì§€ì‚¬í•­ </a>
          </p>

          <p class="footer_sub_title">ì „ìê¸ˆìœµê±°ë˜ ë¶„ìŸ ë‹´ë‹¹</p>
          <p>Tel : 1899-7000(ìœ ë£Œ) E-mail : lotteon@lotte.net</p>
          <a href="#" class="a_deco">ì•ˆì „ê±°ë˜ì„¼í„°</a>
        </div>
      </div>
    </div>
    <div class="footer_version">
      <p>
        ë¡¯ë°ì‡¼í•‘(ì£¼)ëŠ” í†µì‹ íŒë§¤ì¤‘ê°œìì´ë©° í†µì‹ íŒë§¤ì˜ ê±°ë˜ë‹¹ì‚¬ìê°€ ì•„ë‹™ë‹ˆë‹¤.
        ì…ì íŒë§¤ìê°€ ë“±ë¡í•œ ìƒí’ˆì •ë³´ ë° ê±°ë˜ì— ëŒ€í•´ ë¡¯ë°ì‡¼í•‘(ì£¼)ëŠ” ì¼ì²´ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
      </p>
      <p>Copyright Â© LOTTESHOPPING Co., LTD. All rights reserved.</p>
    </div>
  </footer>
  <!-- í‘¸í„° ë -->
</div>

<!-- í† ìŠ¤íŠ¸ ì•Œë¦¼ CSS -->
<style>
  #toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
  }

  .toast {
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 16px 20px;
    margin-bottom: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transform: translateX(400px);
    opacity: 0;
    transition: all 0.3s ease;
    max-width: 350px;
    position: relative;
    overflow: hidden;
  }

  .toast.show {
    transform: translateX(0);
    opacity: 1;
  }

  .toast.success {
    border-left: 4px solid #28a745;
  }

  .toast.success::before {
    content: "âœ…";
    margin-right: 10px;
    font-size: 18px;
  }

  .toast.info {
    border-left: 4px solid #007bff;
  }

  .toast.info::before {
    content: "â„¹ï¸";
    margin-right: 10px;
    font-size: 18px;
  }

  .toast.error {
    border-left: 4px solid #dc3545;
  }

  .toast.error::before {
    content: "âŒ";
    margin-right: 10px;
    font-size: 18px;
  }

  .toast-title {
    font-weight: bold;
    color: #333;
    margin-bottom: 5px;
  }

  .toast-message {
    color: #666;
    font-size: 14px;
    line-height: 1.4;
  }

  .toast-close {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    font-size: 18px;
    color: #999;
    cursor: pointer;
    transition: color 0.2s ease;
  }

  .toast-close:hover {
    color: #333;
  }

  .toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: #28a745;
    animation: progress 4s linear;
  }

  .toast.success .toast-progress {
    background: #28a745;
  }

  .toast.info .toast-progress {
    background: #007bff;
  }

  .toast.error .toast-progress {
    background: #dc3545;
  }

  @keyframes progress {
    from { width: 100%; }
    to { width: 0%; }
  }
</style>

<!-- í† ìŠ¤íŠ¸ ì•Œë¦¼ JavaScript -->
<script>
  // í† ìŠ¤íŠ¸ ì•Œë¦¼ í•¨ìˆ˜
  function showToast(title, message, type = 'success', duration = 4000) {
    const container = document.getElementById('toast-container');
    const toast = document.createElement('div');

    toast.className = `toast ${type}`;
    toast.innerHTML = `
        <button class="toast-close" onclick="closeToast(this)">&times;</button>
        <div class="toast-title">${title}</div>
        <div class="toast-message">${message}</div>
        <div class="toast-progress"></div>
      `;

    container.appendChild(toast);

    // ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°
    setTimeout(() => toast.classList.add('show'), 100);

    // ìë™ ì œê±°
    setTimeout(() => {
      closeToast(toast.querySelector('.toast-close'));
    }, duration);
  }

  // í† ìŠ¤íŠ¸ ë‹«ê¸° í•¨ìˆ˜
  function closeToast(closeBtn) {
    const toast = closeBtn.parentElement;
    toast.classList.remove('show');

    setTimeout(() => {
      if (toast.parentNode) {
        toast.parentNode.removeChild(toast);
      }
    }, 300);
  }

  // URL íŒŒë¼ë¯¸í„° í™•ì¸ ë° í† ìŠ¤íŠ¸ í‘œì‹œ
  document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const successType = urlParams.get('success');

    if (successType === 'user') {
      showToast(
              'íšŒì›ê°€ì… ì™„ë£Œ! ğŸ‰',
              'ì¼ë°˜ íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.<br>ì‹ ê·œ ê°€ì… ì¿ í°ì´ ë°œê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤. ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì„¸ìš”!',
              'success',
              5000
      );
    } else if (successType === 'seller') {
      showToast(
              'íŒë§¤ì ê°€ì… ì™„ë£Œ!',
              'íŒë§¤ì ê³„ì •ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.',
              'info',
              4000
      );
    }

    // ê¸°ì¡´ ì—ëŸ¬ ë©”ì‹œì§€ë„ í† ìŠ¤íŠ¸ë¡œ ë³€í™˜ (ì„ íƒì‚¬í•­)
    const paramCode = urlParams.get('code');
    if (paramCode) {
      let title = '';
      let message = '';
      let type = 'error';

      switch(paramCode) {
        case '100':
          title = 'ë¡œê·¸ì¸ ì‹¤íŒ¨';
          message = 'ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
          break;
        case '101':
          title = 'ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ';
          message = 'ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.';
          type = 'info';
          break;
        case '102':
          title = 'ê³„ì • ìƒíƒœ ì˜¤ë¥˜';
          message = 'íƒˆí‡´í•œ íšŒì›ì…ë‹ˆë‹¤. ë‹¤ì‹œ ê°€ì…í•´ì£¼ì„¸ìš”.';
          break;
      }

      if (title && message) {
        showToast(title, message, type);
      }
    }

    // URL íŒŒë¼ë¯¸í„° ì œê±° (ë’¤ë¡œê°€ê¸° ì‹œ ì¤‘ë³µ í‘œì‹œ ë°©ì§€)
    if (successType || paramCode) {
      const newUrl = window.location.pathname;
      window.history.replaceState({}, document.title, newUrl);
    }
  });
</script>



</body>
</html>